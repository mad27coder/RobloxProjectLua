-- Pengaturan awal
getgenv().autoThank = false

-- Services
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local VirtualUser = game:GetService("VirtualUser")
local RunService = game:GetService("RunService")
local localPlayer = Players.LocalPlayer
local chat = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral")

-- Anti-AFK
Players.LocalPlayer.Idled:Connect(function()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton1(Vector2.new(0, 0))
end)

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", localPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "AutoGUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 180, 0, 100)
Frame.Position = UDim2.new(0.5, -90, 0.5, -50)
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

-- RGB Border Line
local Border = Instance.new("Frame", Frame)
Border.Size = UDim2.new(1, 4, 1, 4)
Border.Position = UDim2.new(0, -2, 0, -2)
Border.BackgroundTransparency = 1
Border.BorderSizePixel = 2
Border.BorderMode = Enum.BorderMode.Inset
Border.ZIndex = 0

-- RGB Animation
task.spawn(function()
	local hue = 0
	while true do
		hue = (hue + 1) % 360
		local color = Color3.fromHSV(hue / 360, 1, 1)
		Border.BorderColor3 = color
		task.wait(0.05)
	end
end)

-- Toggle Button
local toggleButton = Instance.new("TextButton", ScreenGui)
toggleButton.Size = UDim2.new(0, 30, 0, 30)
toggleButton.Position = UDim2.new(1, -35, 0.5, -15)
toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Text = "â‰¡"
toggleButton.ZIndex = 10
toggleButton.Active = true
toggleButton.Draggable = true

local guiVisible = true
toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- GUI Elements
local ThankButton = Instance.new("TextButton", Frame)
ThankButton.Size = UDim2.new(1, -20, 0, 30)
ThankButton.Position = UDim2.new(0, 10, 0, 10)
ThankButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ThankButton.TextColor3 = Color3.new(1, 1, 1)
ThankButton.Font = Enum.Font.SourceSansBold
ThankButton.TextSize = 16

local StatusLabel = Instance.new("TextLabel", Frame)
StatusLabel.Size = UDim2.new(1, -20, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 45)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextScaled = true
StatusLabel.Font = Enum.Font.SourceSansBold

local SignatureLabel = Instance.new("TextLabel", Frame)
SignatureLabel.Size = UDim2.new(1, -20, 0, 20)
SignatureLabel.Position = UDim2.new(0, 10, 1, -25)
SignatureLabel.BackgroundTransparency = 1
SignatureLabel.TextColor3 = Color3.new(1, 1, 1)
SignatureLabel.Text = "LYNX x DHINZ"
SignatureLabel.Font = Enum.Font.SourceSansBold
SignatureLabel.TextScaled = true

-- Update GUI
local function updateGUI()
	ThankButton.Text = "Auto Thank: " .. (getgenv().autoThank and "ON" or "OFF")
	StatusLabel.Text = "Status: " .. (getgenv().autoThank and "Aktif" or "Nonaktif")
end

updateGUI()

-- Thank Messages
local thankMessages = {
    "You just made my booth 200% cooler ðŸ˜",
    "Robux received, happiness unlocked ðŸ˜Š",
    "Your kindness just leveled me up ðŸ˜˜",
    "Donation detected, smile activated ðŸ˜‚",
    "You're the real MVP today ðŸ˜Ž",
    "Thanks! Iâ€™ll name a booth pixel after you ðŸ˜",
    "Robux entered, stress exited ðŸ˜Š",
    "You made this booth worth visiting ðŸ˜Œ",
    "Now I believe in miracles again ðŸ˜­ðŸ˜‚",
    "You donated, I did a happy dance ðŸ˜†",
    "Appreciate you more than words ðŸ˜˜",
    "My booth just blushed, thanks to you ðŸ˜Š",
    "You're the reason this booth shines ðŸ˜",
    "Donation? More like motivation ðŸ˜",
    "You're awesome and now slightly poorer ðŸ˜‚",
    "This booth owes you everything ðŸ˜Š",
    "Thanks! Iâ€™ll never financially recoverâ€¦ in a good way ðŸ˜",
    "You dropped Robux, I dropped my jaw ðŸ˜³",
    "Your Robux has healing powers ðŸ˜‚",
    "You made my day 100x better ðŸ˜Š",
    "That donation hit harder than coffee ðŸ˜†",
    "You're pure good vibes ðŸ˜Ž",
    "My booth just sent you a virtual hug ðŸ¤—",
    "Robux from you = serotonin unlocked ðŸ˜Š",
    "You're the hero this booth needed ðŸ˜",
    "Your donation restored my faith in boothkind ðŸ˜‡",
    "Who needs therapy when you donate like this? ðŸ˜‚",
    "Thank you for upgrading my day ðŸ˜˜",
    "Donation from a legend detected ðŸ˜Ž",
    "Your Robux has been turned into good karma ðŸ˜Š",
    "The booth is smiling because of you ðŸ˜",
    "You're the reason my sign is glowing ðŸ˜",
    "Thanks! You just bought me joy ðŸ˜‚",
    "Every Robux from you is a high-five to my soul ðŸ˜Š",
    "You just made donating look cool ðŸ˜Ž",
    "This booth owes its soul to you ðŸ˜‚",
    "Thanks for the pixel power-up ðŸ˜",
    "You didnâ€™t have to, but Iâ€™m glad you did ðŸ˜Š",
    "That donation made the booth giggle ðŸ˜†",
    "You dropped Robux like a boss ðŸ˜Ž",
    "Happiness: sponsored by your donation ðŸ˜Š",
    "Your support = instant energy boost ðŸ˜",
    "Thanks for fueling the good vibes ðŸ˜Š",
    "Legend spotted dropping Robux ðŸ˜",
    "My booth feels blessed today ðŸ˜‡",
    "Donation? More like an instant smile ðŸ˜Š",
    "Your generosity is contagious ðŸ˜„",
    "Thanks for making this day brighter ðŸ˜",
    "Youâ€™re officially the boothâ€™s favorite now ðŸ˜Š",
    "Can I pin your name here forever? ðŸ˜‚",
    "The boothâ€™s ego just grew. Thanks! ðŸ˜Ž",
    "Donation from a real one. Much love ðŸ˜˜",
    "That Robux hit different ðŸ˜†",
    "You gave, I glowed ðŸ˜Š",
    "Robux rain from a legend ðŸ˜",
    "My boothâ€™s self-esteem just spiked ðŸ˜‚",
    "Your kindness didnâ€™t go unnoticed ðŸ˜Š",
    "Support like yours makes this fun ðŸ˜",
    "You deserve all the good vibes ðŸ˜˜",
    "You're a certified booth booster ðŸ˜Ž",
    "Donation received, mood upgraded ðŸ˜Š",
    "Your kindness deserves a parade ðŸ˜",
    "Robux well spent, smile well earned ðŸ˜Š",
    "You just made digital history ðŸ˜‚",
    "The boothâ€™s heart grew 3 sizes today ðŸ˜Š",
    "Youâ€™re a top-tier human ðŸ˜‡",
    "That was more than Robuxâ€”it was magic ðŸ˜Š",
    "Thanks for showing how itâ€™s done ðŸ˜Ž",
    "You didnâ€™t just donateâ€”you inspired ðŸ˜",
    "This booth glows differently now ðŸ˜",
    "You left a sparkle in my chat ðŸ˜Š",
    "Appreciation level: 999+ ðŸ˜„",
    "That donation was smoother than butter ðŸ˜‚",
    "You just became my favorite stranger ðŸ˜˜",
    "Legend dropped by, Robux in hand ðŸ˜Ž",
    "The booth is flexing because of you ðŸ˜",
    "Thanks for not walking past ðŸ˜Š",
    "You deserve a Robux refund (just kidding ðŸ˜‚)",
    "Hype levels up because of your drop ðŸ˜",
    "Donated with styleâ€”respect ðŸ˜Ž",
    "Thanks! Youâ€™re rare in the best way ðŸ˜Š",
    "Youâ€™re now part of booth lore ðŸ˜„",
    "You're officially a booth co-owner ðŸ˜‚",
    "Even the AFK guy smiled thanks to you ðŸ˜Š",
    "The booth just high-fived itself ðŸ˜‚",
    "Much love for the surprise drop ðŸ˜˜",
    "Donation delivered with greatness ðŸ˜Ž",
    "That Robux added sparkle here ðŸ˜",
    "Your kindness hits every time ðŸ˜Š",
    "Thanks for the wholesome ambush ðŸ˜‚",
    "Robux from you = good times unlocked ðŸ˜„",
    "You just gave me virtual coffee â˜•ðŸ˜Š",
    "Booth got cooler, and itâ€™s your fault ðŸ˜Ž",
    "Thanks for keeping the good vibes alive ðŸ˜",
    "You're a 10/10 donator, confirmed ðŸ˜",
    "You gave, I smiled, we both won ðŸ˜Š",
    "The boothâ€™s day just peaked ðŸ˜‚",
    "Thank you for being extra awesome ðŸ˜˜",
    "Your name is now written in booth gold ðŸ†ðŸ˜",
    "Smile status: permanently on ðŸ˜Š",
    "You donated like itâ€™s a superpower ðŸ˜Ž",
    "Thatâ€™s the kind of support I dream of ðŸ˜„",
    "Your Robux just did a miracle ðŸ˜‚",
    "Thanks for being good energy in here ðŸ˜Š", 
}
-- Auto Thank Logic
local leaderstats = localPlayer:WaitForChild("leaderstats")
local raisedStat = leaderstats:WaitForChild("Raised")
local lastRaised = raisedStat.Value

raisedStat.Changed:Connect(function()
	if getgenv().autoThank then
		local newRaised = raisedStat.Value
		if newRaised > lastRaised then
			if chat then
				local msg = thankMessages[math.random(1, #thankMessages)]
				chat:SendAsync(msg)

				-- Reset karakter setelah 5 detik
				task.delay(5, function()
					localPlayer:LoadCharacter()
				end)
			end
			lastRaised = newRaised
		end
	end
end)

-- Button Logic
ThankButton.MouseButton1Click:Connect(function()
	getgenv().autoThank = not getgenv().autoThank
	updateGUI()
end)

-- ðŸ§  Marker Kematian + Anti-Sit + Auto-Walk
local marker = nil

local function createDeathMarker(position)
	if marker then marker:Destroy() end

	marker = Instance.new("Part")
	marker.Anchored = true
	marker.CanCollide = false
	marker.Size = Vector3.new(1,1,1)
	marker.Position = position
	marker.Transparency = 1
	marker.Name = "DeathMarker"
	marker.Parent = workspace
end

local function destroySit(humanoid)
	task.spawn(function()
		while humanoid and humanoid.Parent do
			humanoid.Sit = false
			humanoid.SeatPart = nil
			task.wait(0.1)
		end
	end)
end

local function walkToMarker(humanoid, root)
	if not marker then return end

	local reached = false
	while not reached and humanoid and root do
		humanoid:MoveTo(marker.Position)
		local dist = (root.Position - marker.Position).Magnitude
		if dist < 4 then
			reached = true
		end
		task.wait(0.2)
	end

	marker:Destroy()
	marker = nil
end

localPlayer.CharacterAdded:Connect(function(char)
	local humanoid = char:WaitForChild("Humanoid")

	-- Anti-sit
	destroySit(humanoid)

	-- Buat marker saat mati
	humanoid.Died:Connect(function()
		local root = char:FindFirstChild("HumanoidRootPart")
		if root then
			createDeathMarker(root.Position)
		end
	end)

	-- Setelah respawn, jalan ke marker
	task.spawn(function()
		local root
		repeat
			root = char:FindFirstChild("HumanoidRootPart")
			task.wait()
		until root

		walkToMarker(humanoid, root)
	end)
end)