-- 🌟 Global Toggles
getgenv().autoThank = false
getgenv().promoSpam = false
getgenv().autoLaunch = true

-- 🔧 Services
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local VirtualUser = game:GetService("VirtualUser")

local localPlayer = Players.LocalPlayer
local chat = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral")
local character = localPlayer.Character or localPlayer.CharacterAdded:Wait()
local root = character:WaitForChild("HumanoidRootPart")
local humanoid = character:WaitForChild("Humanoid")

-- 💤 Anti-AFK
localPlayer.Idled:Connect(function()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton1(Vector2.new(0, 0))
end)

-- 🎛️ GUI Setup
local screenGui = Instance.new("ScreenGui", localPlayer:WaitForChild("PlayerGui"))
screenGui.Name = "AutoGUI"
screenGui.ResetOnSpawn = false

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 220, 0, 200)
frame.Position = UDim2.new(0.5, -110, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.Active = true
frame.Draggable = true

local toggleButton = Instance.new("TextButton", screenGui)
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(1, -45, 0.5, -20)
toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Text = "≡"
toggleButton.ZIndex = 10
toggleButton.Active = true
toggleButton.Draggable = true

local guiVisible = true
toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	frame.Visible = guiVisible
end)

-- 🎛️ GUI Elements
local ThankButton = Instance.new("TextButton", frame)
ThankButton.Size = UDim2.new(0, 200, 0, 40)
ThankButton.Position = UDim2.new(0, 10, 0, 10)
ThankButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ThankButton.TextColor3 = Color3.new(1, 1, 1)

local PromoButton = Instance.new("TextButton", frame)
PromoButton.Size = UDim2.new(0, 200, 0, 40)
PromoButton.Position = UDim2.new(0, 10, 0, 60)
PromoButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PromoButton.TextColor3 = Color3.new(1, 1, 1)

local LaunchButton = Instance.new("TextButton", frame)
LaunchButton.Size = UDim2.new(0, 200, 0, 40)
LaunchButton.Position = UDim2.new(0, 10, 0, 110)
LaunchButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
LaunchButton.TextColor3 = Color3.new(1, 1, 1)

local StatusLabel = Instance.new("TextLabel", frame)
StatusLabel.Size = UDim2.new(0, 200, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 160)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextScaled = true

local function updateGUI()
	ThankButton.Text = "Toggle Auto Thank (" .. (getgenv().autoThank and "ON" or "OFF") .. ")"
	PromoButton.Text = "Toggle Auto Promo (" .. (getgenv().promoSpam and "ON" or "OFF") .. ")"
	LaunchButton.Text = "Toggle Auto Launch (" .. (getgenv().autoLaunch and "ON" or "OFF") .. ")"
	StatusLabel.Text = "Status: Thank " .. (getgenv().autoThank and "ON" or "OFF") ..
		" / Promo " .. (getgenv().promoSpam and "ON" or "OFF") ..
		" / Launch " .. (getgenv().autoLaunch and "ON" or "OFF")
end

updateGUI()

-- 💬 Messages
local thankMessages = {
	"Thank you so much! With that donation, my avatar can finally stop eating imaginary noodles.",
}

local promoMessages = {
	"Support the cause! Every bit helps. 💖",
	"Join the movement! Your donation makes a difference.",
	"Thanks for being awesome! Keep the support coming!",
}

-- 🔁 Promo System
local promoDelayUntil = 0
local promoPauseOnDonation = 36

local function getRandomPromoInterval()
	return math.random(15, 20)
end

local function shuffle(array)
	local shuffled = {}
	local indices = {}
	for i = 1, #array do table.insert(indices, i) end
	for i = #indices, 2, -1 do
		local j = math.random(i)
		indices[i], indices[j] = indices[j], indices[i]
	end
	for _, i in ipairs(indices) do
		table.insert(shuffled, array[i])
	end
	return shuffled
end

local shuffledPromo = shuffle(promoMessages)
local shuffledIndex = 1

task.spawn(function()
	while true do
		if getgenv().promoSpam and tick() >= promoDelayUntil then
			if chat then
				local msg = shuffledPromo[shuffledIndex]
				chat:SendAsync(msg)
				shuffledIndex += 1
				if shuffledIndex > #shuffledPromo then
					shuffledPromo = shuffle(promoMessages)
					shuffledIndex = 1
				end
			end
			promoDelayUntil = tick() + getRandomPromoInterval()
		end
		task.wait(1)
	end
end)

-- 🚀 Rocket Launch System
local isLaunching = false

local function startRocketSequence()
	if isLaunching then return end
	isLaunching = true

	humanoid.PlatformStand = true
	humanoid.AutoRotate = false

	local initialPosition = root.Position
	local platform = Instance.new("Part")
	platform.Anchored = true
	platform.CanCollide = false
	platform.Transparency = 1
	platform.Size = Vector3.new(6, 1, 6)
	platform.Position = initialPosition
	platform.Parent = workspace

	local spin = Instance.new("BodyAngularVelocity")
	spin.AngularVelocity = Vector3.new(0, math.rad(720), 0)
	spin.MaxTorque = Vector3.new(0, math.huge, 0)
	spin.P = 10000
	spin.Parent = root

	local uprightGyro = Instance.new("BodyGyro")
	uprightGyro.MaxTorque = Vector3.new(400000, 0, 400000)
	uprightGyro.P = 10000
	uprightGyro.CFrame = root.CFrame
	uprightGyro.Parent = root

	local follow = Instance.new("BodyPosition")
	follow.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
	follow.P = 10000
	follow.D = 100
	follow.Position = platform.Position + Vector3.new(0, 5, 0)
	follow.Parent = root

	local state = "spin"
	local phaseStart = tick()

	local conn
	conn = RunService.Heartbeat:Connect(function()
		local elapsed = tick() - phaseStart

		uprightGyro.CFrame = CFrame.new(root.Position) * CFrame.Angles(0, root.Orientation.Y, 0)
		follow.Position = platform.Position + Vector3.new(0, 5, 0)

		if state == "spin" and elapsed >= 15 then
			state = "fly"
			phaseStart = tick()
			TweenService:Create(platform, TweenInfo.new(20, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), {
				Position = Vector3.new(platform.Position.X, 500, platform.Position.Z)
			}):Play()

		elseif state == "fly" and elapsed >= 20 then
			state = "fall"
			phaseStart = tick()
			TweenService:Create(platform, TweenInfo.new(10, Enum.EasingStyle.Sine, Enum.EasingDirection.In), {
				Position = Vector3.new(platform.Position.X, initialPosition.Y, platform.Position.Z)
			}):Play()

		elseif state == "fall" and elapsed >= 10 then