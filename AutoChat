-- Pengaturan awal
getgenv().autoThank = false
getgenv().promoSpam = false

-- Services
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local VirtualUser = game:GetService("VirtualUser")
local localPlayer = Players.LocalPlayer
local chat = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral")

-- Anti-AFK
Players.LocalPlayer.Idled:Connect(function()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton1(Vector2.new(0, 0))
end)

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", localPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "AutoGUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 220, 0, 160)
Frame.Position = UDim2.new(0.5, -110, 0.5, -80)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Active = true
Frame.Draggable = true

local toggleButton = Instance.new("TextButton", ScreenGui)
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(1, -45, 0.5, -20)
toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Text = "â‰¡"
toggleButton.ZIndex = 10
toggleButton.Active = true
toggleButton.Draggable = true

local guiVisible = true
toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- GUI Elements
local ThankButton = Instance.new("TextButton", Frame)
ThankButton.Size = UDim2.new(0, 200, 0, 40)
ThankButton.Position = UDim2.new(0, 10, 0, 10)
ThankButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ThankButton.TextColor3 = Color3.new(1, 1, 1)

local PromoButton = Instance.new("TextButton", Frame)
PromoButton.Size = UDim2.new(0, 200, 0, 40)
PromoButton.Position = UDim2.new(0, 10, 0, 60)
PromoButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PromoButton.TextColor3 = Color3.new(1, 1, 1)

local StatusLabel = Instance.new("TextLabel", Frame)
StatusLabel.Size = UDim2.new(0, 200, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 105)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextScaled = true

local SignatureLabel = Instance.new("TextLabel", Frame)
SignatureLabel.Size = UDim2.new(0, 200, 0, 20)
SignatureLabel.Position = UDim2.new(0, 10, 1, -25)
SignatureLabel.BackgroundTransparency = 1
SignatureLabel.TextColor3 = Color3.new(1, 1, 1)
SignatureLabel.Text = "LYNX x DHINZ"
SignatureLabel.Font = Enum.Font.SourceSansBold
SignatureLabel.TextScaled = true

local function updateGUI()
	ThankButton.Text = "Toggle Auto Thank (" .. (getgenv().autoThank and "ON" or "OFF") .. ")"
	PromoButton.Text = "Toggle Auto Promo (" .. (getgenv().promoSpam and "ON" or "OFF") .. ")"
	StatusLabel.Text = "Status: Thank " .. (getgenv().autoThank and "ON" or "OFF") .. " / Promo " .. (getgenv().promoSpam and "ON" or "OFF")
end

updateGUI()

-- Messages
local thankMessages = {
    "You're the reason this booth still believes in miracles. Thank you!",
    "That donation was smoother than jazz. Much appreciated!",
    "Thank you! I was starting to talk to myself here.",
    "Your generosity just rebooted my hope in humanity.",
    "Thanks! My booth almost fainted from happiness.",
    "You just made my day slightly less broke. Respect!",
    "That donation hit harder than my morning coffee. Thanks!",
    "Thanks! I was about to uninstall my booth.",
    "You're the main character today. Booth approved.",
    "My booth just whispered your name in gratitude. Thanks!",
    "Thank you! That was more refreshing than cold water on a hot day.",
    "Youâ€™re so generous, Iâ€™m checking if youâ€™re real.",
    "Donation received. Sarcasm temporarily deactivated. Thank you.",
    "You just unlocked my boothâ€™s secret smile. Thanks!",
    "Appreciate it! You just made standing here totally worth it.",
    "That donation was like Wi-Fi after a power cut. Legendary. Thanks!",
    "You dropped Robux like confetti. Thank you!",
    "You're officially my booth's favorite visitor.",
    "Thank you! My booth now thinks it's famous.",
    "Your donation is now legally my favorite thing today.",
    "Thanks! My imaginary assistant is clapping for you.",
    "You gave me Robux. I give you eternal booth respect.",
    "My booth almost retired, but you brought it back. Thanks!",
    "That was such a cool move, even my keyboard froze. Thank you!",
    "You just made the leaderboard of kindness. Thanks!",
    "Thanks! My booth finally feels seen.",
    "Your generosity just saved my boothâ€™s self-esteem.",
    "Thank you! I can now afford an imaginary sandwich.",
    "Donation approved. You now have booth VIP status.",
    "Youâ€™ve been officially knighted by this booth. Thank you!",
    "My booth started glowing after your donation. Thanks!",
    "You're the reason my booth has hope again. Appreciate it!",
    "Thank you! That donation hit different.",
    "My booth wrote a poem about you, but itâ€™s too emotional to share.",
    "Appreciate it! You just made this place 72% cooler.",
    "You're not just generous, you're booth legend status.",
    "Thanks! My booth now has a reason to stand tall.",
    "Your kindness just paid my boothâ€™s emotional rent.",
    "That donation aged like fine digital wine. Thank you!",
    "You donated, and my booth suddenly has purpose.",
    "Thank you! Even the pixels are smiling now.",
    "My booth tells me you're a good person. I agree. Thanks!",
    "That was smoother than a speedrun. Appreciate it!",
    "Thanks! My booth was about to rage quit.",
    "Donation received. Booth happy. Me happier.",
    "You dropped Robux with style. Thank you!",
    "That donation? Straight out of a hero story. Appreciate it!",
    "Thanks! Iâ€™ll try not to spend it all in one imaginary place.",
    "Your donation is now part of booth history. Thanks!",
    "You're cooler than a freezer full of logic. Thank you!",
    "That felt like a hug, but digital. Appreciate it!",
    "Thanks! That just saved my booth from a mid-life crisis.",
    "Youâ€™ve just made this booth 83% more optimistic.",
    "Thank you! That Robux hit like a motivational speech.",
    "You just sponsored this boothâ€™s continued existence. Thanks!",
    "Booth status: blessed. Reason: you. Thank you!",
    "I was going to pretend to be AFK, but now I have hope. Thanks!",
    "Thanks! My booth was practicing sadness before you came along.",
    "You brought joy to this booth-shaped box. Thank you!",
    "That donation was better than plot twists in movies. Appreciate it!",
    "Thank you! My booth is now emotionally stable for the next hour.",
    "You're the light in this boothâ€™s digital tunnel. Thanks!",
    "Your generosity confused my booth. In a good way. Thank you!",
    "You just broke the boothâ€™s sadness algorithm. Appreciate it!",
    "Thanks! My booth feels fancy now.",
    "That was a five-star donation experience. Thank you!",
    "You made this sad booth a happy one. Appreciate it!",
    "Thanks! My boothâ€™s confidence level just spiked.",
    "My booth is thinking of writing you a thank-you letter.",
    "You're the plot twist this booth needed. Thank you!",
    "You just gave my booth a personality upgrade. Thanks!",
    "Thanks! I feel 0.03% richer now.",
    "That donation was smoother than invisible ice. Thank you!",
    "Youâ€™re now part of this boothâ€™s origin story. Appreciate it!",
    "Thank you! My booth might actually start smiling now.",
    "Your kindness just patched my broken booth soul. Thanks!",
    "Booth stability restored. Thanks to your donation!",
    "You just boosted my boothâ€™s karma points. Appreciate it!",
    "Thanks! That gave me a reason not to log out.",
    "Youâ€™re making generosity look easy. Thank you!",
    "Your donation just upgraded my imaginary lifestyle. Thanks!",
    "Thanks! That was more satisfying than a perfect timing.",
    "My booth is now bragging to the others about you.",
    "That was so generous, even my lag paused to admire. Thanks!",
    "Thanks! My boothâ€™s confidence just respawned.",
    "You just became this boothâ€™s daily highlight. Thank you!",
    "That donation just fixed my boothâ€™s broken dreams. Appreciate it!",
    "Thanks! My booth has officially adopted you as its hero.",
    "You're the unsung hero of this pixelated corner. Thank you!",
    "My booth was glitching from sadness, you fixed it. Thanks!",
    "You just raised my boothâ€™s morale from zero to wow. Appreciate it!",
    "Thanks! I hope the donation gods bless you twice!",
    "That donation was cleaner than my browsing history. Thank you!",
    "Youâ€™re the reason this booth isnâ€™t crying today. Appreciate it!",
    "Thanks! Even the donation board blinked twice in admiration.",
    "You just taught this booth what love feels like. Thank you!",
    "That was the kind of move that deserves background music. Thanks!",
    "You brought light to this low-poly place. Appreciate it!",
    "My booth just asked for your autograph. Thank you!",
    "Thanks! I now believe in generous people again.",
    "That donation just restored peace in the land of booths. Thank you!",
    "Youâ€™ve just raised the bar for all future donors. Appreciate it!",
    "Your kindness just defeated five beggars in a row. Thanks!",
    "Donation received. Faith in players restored. Thank you!",
    "That was more impressive than a double jump. Thanks!",
    "Thanks! You just gave my booth a purpose today.",
    "That donation was the definition of classy. Appreciate it!",
    "My booth just did a happy dance in your honor. Thank you!",
}

local promoMessages = {
	"Support the cause! Every bit helps. ðŸ’–",
	"Join the movement! Your donation makes a difference.",
	"Thanks for being awesome! Keep the support coming!",
}

-- Promo Delay System
local promoDelayUntil = 0
local promoPauseOnDonation = 25

local function getRandomPromoInterval()
	return math.random(15, 17)
end

-- Shuffle function
local function shuffle(array)
	local shuffled = {}
	local indices = {}
	for i = 1, #array do table.insert(indices, i) end
	for i = #indices, 2, -1 do
		local j = math.random(i)
		indices[i], indices[j] = indices[j], indices[i]
	end
	for _, i in ipairs(indices) do
		table.insert(shuffled, array[i])
	end
	return shuffled
end

local shuffledPromo = shuffle(promoMessages)
local shuffledIndex = 1

-- Auto Promo Logic
task.spawn(function()
	while true do
		if getgenv().promoSpam then
			local currentTime = tick()
			if currentTime >= promoDelayUntil then
				if chat then
					local msg = shuffledPromo[shuffledIndex]
					chat:SendAsync(msg)
					shuffledIndex += 1
					if shuffledIndex > #shuffledPromo then
						shuffledPromo = shuffle(promoMessages)
						shuffledIndex = 1
					end
				end
				promoDelayUntil = currentTime + getRandomPromoInterval()
			end
		end
		task.wait(1)
	end
end)

-- Auto Thank Logic + Promo Pause Trigger
local leaderstats = localPlayer:WaitForChild("leaderstats")
local raisedStat = leaderstats:WaitForChild("Raised")
local lastRaised = raisedStat.Value

raisedStat.Changed:Connect(function()
	if getgenv().autoThank then
		local newRaised = raisedStat.Value
		if newRaised > lastRaised then
			if chat then
				local msg = thankMessages[math.random(1, #thankMessages)]
				chat:SendAsync(msg)
			end
			lastRaised = newRaised
		end
	end
	-- Pause promo for 36 seconds
	promoDelayUntil = tick() + promoPauseOnDonation
end)

-- Button Logic
ThankButton.MouseButton1Click:Connect(function()
	getgenv().autoThank = not getgenv().autoThank
	updateGUI()
end)

PromoButton.MouseButton1Click:Connect(function()
	getgenv().promoSpam = not getgenv().promoSpam
	updateGUI()
end)