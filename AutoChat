-- Pengaturan awal (ubah ke false agar tidak aktif saat mulai)
getgenv().autoThank = false
getgenv().promoSpam = false

-- Services
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local VirtualUser = game:GetService("VirtualUser")
local localPlayer = Players.LocalPlayer
local chat = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral")

-- Anti-AFK
Players.LocalPlayer.Idled:Connect(function()
	local vu = game:GetService("VirtualUser")
	vu:CaptureController()
	vu:ClickButton1(Vector2.new(0, 0))
end)

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = localPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "AutoGUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 220, 0, 160)
Frame.Position = UDim2.new(0.5, -110, 0.5, -80)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

-- Tombol Toggle GUI
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(1, -45, 0.5, -20)
toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Text = "≡"
toggleButton.Parent = ScreenGui
toggleButton.ZIndex = 10
toggleButton.Active = true
toggleButton.Draggable = true

-- Status visibilitas
local guiVisible = true

toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- Elemen GUI
local ThankButton = Instance.new("TextButton")
ThankButton.Size = UDim2.new(0, 200, 0, 40)
ThankButton.Position = UDim2.new(0, 10, 0, 10)
ThankButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ThankButton.TextColor3 = Color3.new(1, 1, 1)
ThankButton.Parent = Frame

local PromoButton = Instance.new("TextButton")
PromoButton.Size = UDim2.new(0, 200, 0, 40)
PromoButton.Position = UDim2.new(0, 10, 0, 60)
PromoButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PromoButton.TextColor3 = Color3.new(1, 1, 1)
PromoButton.Parent = Frame

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0, 200, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 105)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextScaled = true
StatusLabel.Parent = Frame

-- Label Nama di bagian bawah GUI
local SignatureLabel = Instance.new("TextLabel")
SignatureLabel.Size = UDim2.new(0, 200, 0, 20)
SignatureLabel.Position = UDim2.new(0, 10, 1, -25)
SignatureLabel.BackgroundTransparency = 1
SignatureLabel.TextColor3 = Color3.new(1, 1, 1)
SignatureLabel.Text = "LYNX x DHINZ"
SignatureLabel.Font = Enum.Font.SourceSansBold
SignatureLabel.TextScaled = true
SignatureLabel.Parent = Frame

-- Update GUI text sesuai status awal
local function updateGUI()
	ThankButton.Text = "Toggle Auto Thank (" .. (getgenv().autoThank and "ON" or "OFF") .. ")"
	PromoButton.Text = "Toggle Auto Promo (" .. (getgenv().promoSpam and "ON" or "OFF") .. ")"
	StatusLabel.Text = "Status: Thank " .. (getgenv().autoThank and "ON" or "OFF") .. " / Promo " .. (getgenv().promoSpam and "ON" or "OFF")
end

updateGUI()

-- Messages
local thankMessages = {
    "Thank you so much! With that donation, my avatar can finally stop eating imaginary noodles. Ramen is great, but air ramen? Not so much.",
}

local promoMessages = {
    "Let’s help each other out with a small donation!",
    "Your support can really make someone’s day better!",
    "Donate a little and join the kindness movement!",
    "Be someone’s hero and give a bit today!",
    "Together, we can create smiles with every donation!",
    "Every Robux you donate brings happiness to others!",
    "Let’s make this place more awesome by helping each other!",
    "Show some love and donate if you feel like it!",
    "Your donation, no matter the size, is truly appreciated!",
    "Join us in spreading good vibes with your donation!",
    "Donating is caring—let’s support one another!",
    "Share what you can and make a little magic happen!",
    "A small donation can mean a big smile!",
    "Let’s cheer up someone today with a simple gift!",
    "Be a champion of kindness—donate now!",
    "Join the movement, share a little happiness!",
    "Robux given, happiness delivered!",
    "Let’s make Roblox a kinder place together!",
    "Your generosity makes the game brighter!",
    "Spread joy—donate and make friends happy!",
    "Help someone reach their goal today!",
    "Kindness starts with you—give a little!",
    "Every donation counts and is noticed!",
    "You can be the reason for someone’s smile!",
    "Donating is easy—making someone’s day is priceless!",
    "Send good vibes by donating Robux!",
    "A little help goes a long way—donate now!",
    "One donation can change someone’s experience!",
    "Be part of something awesome—choose kindness!",
    "Help others level up with your generosity!",
    "Make someone’s dream come true with Robux!",
    "The best feeling? Making others smile!",
    "Give a little, gain a lot of happiness!",
    "Your Robux can help someone shine!",
    "Support others and feel the joy!",
    "Let’s create more happy moments together!",
    "Donating is the best power-up!",
    "Bring a smile to the server—donate now!",
    "Kind hearts make Roblox better!",
    "Be generous, be legendary!",
    "You have the power to help—use it!",
    "Let’s give and grow together!",
    "Make every Robux count for the community!",
    "Show the spirit of sharing—donate today!",
    "Be the reason someone is thankful!",
    "Join the kindness wave—donate some Robux!",
    "A little from you means a lot to others!",
    "Spread kindness across the server!",
    "Help a friend, make a memory!",
    "Donations make the world go round!",
    "Lift others up with a small gift!",
    "Share the love, share some Robux!",
    "Giving is winning—try it out!",
    "Make someone’s Roblox journey special!",
    "Kindness is contagious—start with a donation!",
    "Your support makes a difference!",
    "Every Robux donated spreads happiness!",
    "Let’s be kind and help each other!",
    "You can make someone’s day awesome!",
    "Donate and join the team of heroes!",
    "Together, we make Roblox better!",
    "Show you care—help with a donation!",
    "Small acts of kindness go far!",
    "Brighten someone’s day with Robux!",
    "Support your fellow players!",
    "Make giving your game plan!",
    "Be the spark of kindness today!",
    "Let’s help dreams come true!",
    "Donating is a win-win!",
    "Join the kindness squad!",
    "Robux shared, happiness multiplied!",
    "One click can make a big difference!",
    "Share a smile, donate a while!",
    "Help others level up!",
    "Be the MVP of kindness!",
    "Let’s keep the good vibes rolling!",
    "Donating feels great—try it!",
    "Make new friends through kindness!",
    "Spread joy, not just Robux!",
    "Lead by example—donate!",
    "Let’s build a generous community!",
    "Be the light in someone’s game!",
    "Small donations, big impacts!",
    "Make someone’s Roblox day epic!",
    "Give some Robux, get some smiles!",
    "Help others reach their goals!",
    "Kindness is your superpower!",
    "Let’s all give a little!",
    "Donations make the game more fun!",
    "Be the hero Roblox needs!",
    "Share your kindness today!",
    "Support others’ dreams!",
    "It feels good to give!",
    "Make someone’s wish come true!",
    "Help out, stand out!",
    "Donate and see happiness grow!",
    "Every Robux is a chance to help!",
    "Spread good vibes with your donation!",
    "Join the giving side!",
    "Roblox is better when we help each other!"
}

-- Index trackers
local thankIndex = 1
local promoIndex = 1

-- Auto Thank Logic (berurutan)
local leaderstats = localPlayer:WaitForChild("leaderstats")
local raisedStat = leaderstats:WaitForChild("Raised")
local lastRaised = raisedStat.Value

raisedStat.Changed:Connect(function()
	if getgenv().autoThank then
		local newRaised = raisedStat.Value
		if newRaised > lastRaised then
			if chat then
				local msg = thankMessages[math.random(1, #thankMessages)]
				chat:SendAsync(msg)
			end
			lastRaised = newRaised
		end
	end
end)

-- Auto Promo Logic (berurutan tiap 27 detik)
local function shuffle(array)
	local shuffled = {}
	local indices = {}
	for i = 1, #array do table.insert(indices, i) end
	for i = #indices, 2, -1 do
		local j = math.random(i)
		indices[i], indices[j] = indices[j], indices[i]
	end
	for _, i in ipairs(indices) do
		table.insert(shuffled, array[i])
	end
	return shuffled
end

local shuffledPromo = shuffle(promoMessages)
local shuffledIndex = 1

task.spawn(function()
	while true do
		if getgenv().promoSpam then
			if chat then
				local msg = shuffledPromo[shuffledIndex]
				chat:SendAsync(msg)
				shuffledIndex += 1
				if shuffledIndex > #shuffledPromo then
					shuffledPromo = shuffle(promoMessages)
					shuffledIndex = 1
				end
			end
		end
		task.wait(27)
	end
end)

-- Button Logic
ThankButton.MouseButton1Click:Connect(function()
	getgenv().autoThank = not getgenv().autoThank
	updateGUI()
end)

PromoButton.MouseButton1Click:Connect(function()
	getgenv().promoSpam = not getgenv().promoSpam
	updateGUI()
end)