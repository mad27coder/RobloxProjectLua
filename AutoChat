-- Pengaturan awal (ubah ke false agar tidak aktif saat mulai)
getgenv().autoThank = false
getgenv().promoSpam = false

-- Services
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local VirtualUser = game:GetService("VirtualUser")
local localPlayer = Players.LocalPlayer
local chat = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral")

-- Anti-AFK
Players.LocalPlayer.Idled:Connect(function()
	local vu = game:GetService("VirtualUser")
	vu:CaptureController()
	vu:ClickButton1(Vector2.new(0, 0))
end)

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = localPlayer:WaitForChild("PlayerGui")
ScreenGui.Name = "AutoGUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 220, 0, 160)
Frame.Position = UDim2.new(0.5, -110, 0.5, -80)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

-- Tombol Toggle GUI
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(1, -45, 0.5, -20)
toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Text = "≡"
toggleButton.Parent = ScreenGui
toggleButton.ZIndex = 10
toggleButton.Active = true
toggleButton.Draggable = true

-- Status visibilitas
local guiVisible = true

toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- Elemen GUI
local ThankButton = Instance.new("TextButton")
ThankButton.Size = UDim2.new(0, 200, 0, 40)
ThankButton.Position = UDim2.new(0, 10, 0, 10)
ThankButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ThankButton.TextColor3 = Color3.new(1, 1, 1)
ThankButton.Parent = Frame

local PromoButton = Instance.new("TextButton")
PromoButton.Size = UDim2.new(0, 200, 0, 40)
PromoButton.Position = UDim2.new(0, 10, 0, 60)
PromoButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PromoButton.TextColor3 = Color3.new(1, 1, 1)
PromoButton.Parent = Frame

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0, 200, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 105)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextScaled = true
StatusLabel.Parent = Frame

-- Label Nama di bagian bawah GUI
local SignatureLabel = Instance.new("TextLabel")
SignatureLabel.Size = UDim2.new(0, 200, 0, 20)
SignatureLabel.Position = UDim2.new(0, 10, 1, -25)
SignatureLabel.BackgroundTransparency = 1
SignatureLabel.TextColor3 = Color3.new(1, 1, 1)
SignatureLabel.Text = "LYNX x DHINZ"
SignatureLabel.Font = Enum.Font.SourceSansBold
SignatureLabel.TextScaled = true
SignatureLabel.Parent = Frame

-- Update GUI text sesuai status awal
local function updateGUI()
	ThankButton.Text = "Toggle Auto Thank (" .. (getgenv().autoThank and "ON" or "OFF") .. ")"
	PromoButton.Text = "Toggle Auto Promo (" .. (getgenv().promoSpam and "ON" or "OFF") .. ")"
	StatusLabel.Text = "Status: Thank " .. (getgenv().autoThank and "ON" or "OFF") .. " / Promo " .. (getgenv().promoSpam and "ON" or "OFF")
end

updateGUI()

-- Messages
local thankMessages = {
    "Thanks! You’re like WiFi, always keeping us connected.",
    "Thank you! You just made today more awesome!",
    "Cheers! You're like a discount, always making things better.",
    "Thanks! If you were food, you'd be the chef's special.",
    "Thank you! You're as cool as an admin who’s always online.",
    "Thanks! You’re like a cheat code, making everything easier.",
    "Thanks a latte! If you were coffee, you'd wake everyone up.",
    "Thank you! You're like a game update, always exciting.",
    "Thanks! You're a rare item—hard to find, super valuable.",
    "Thank you! If you were a meme, you'd always make me laugh.",
    "Thanks! You’re the power-up I needed today.",
    "Thank you! You’re like a respawn button for my mood.",
    "Cheers! You always drop legendary loot.",
    "Thanks! You’re the MVP of this match.",
    "Thank you! You’re like a double XP weekend.",
    "Thanks! You’re the secret ingredient to my success.",
    "Thank you! You’re like a bug fix—making everything smoother.",
    "Cheers! You’re the boss level of kindness.",
    "Thanks! You always unlock achievements for me.",
    "Thank you! You’re as refreshing as a health potion.",
    "Thanks! You’re the ultimate squad mate.",
    "Thank you! You’re the patch note everyone loves.",
    "Cheers! You’re the rare NPC with the best quests.",
    "Thanks! You always help me level up.",
    "Thank you! You’re like a speed boost!",
    "Thanks! You’re the legendary drop everyone wants.",
    "Thank you! You’re the Easter egg of my day.",
    "Cheers! You’re always player one in my book.",
    "Thanks! You’re the high score I aim for.",
    "Thank you! You’re the checkpoint in my adventure.",
    "Thanks! You’re the friendly fire I actually enjoy.",
    "Thank you! You’re the secret room full of treasures.",
    "Cheers! You’re the loot box that never disappoints.",
    "Thanks! You always revive my mood.",
    "Thank you! You’re the bonus level of kindness.",
    "Thanks! You’re the daily reward I look forward to.",
    "Thank you! You’re the tutorial I wish I always had.",
    "Cheers! You’re the perfect patch to my day.",
    "Thanks! You’re the boss fight that gives out hugs.",
    "Thank you! You’re the epic skin of friendship.",
    "Thanks! You’re the cool-down after a tough match.",
    "Thank you! You’re the save point I need.",
    "Thanks! You always bring extra lives.",
    "Thank you! You’re the best teammate for any raid.",
    "Cheers! You’re the co-op mode I always choose.",
    "Thanks! You always drop rare gems of wisdom.",
    "Thank you! You’re the mod that makes everything better.",
    "Cheers! You’re the leaderboard topper.",
    "Thanks! You always respawn with positive vibes.",
    "Thank you! You’re the instant revive in tough times.",
    "Thanks! You’re the free DLC of happiness.",
    "Thank you! You’re the cheat code for good moods.",
    "Cheers! You’re the special event every season.",
    "Thanks! You always drop epic loot.",
    "Thank you! You’re the quest giver everyone loves.",
    "Cheers! You’re the game master of gratitude.",
    "Thanks! You’re the patch update for my day.",
    "Thank you! You always bring bonus rounds.",
    "Cheers! You’re the side quest I never skip.",
    "Thanks! You always buff my stats.",
    "Thank you! You’re my favorite controller.",
    "Cheers! You’re the best custom skin.",
    "Thanks! You’re the in-game currency of kindness.",
    "Thank you! You’re the power-up of positivity.",
    "Cheers! You’re always first pick in my squad.",
    "Thanks! You’re the secret code to happiness.",
    "Thank you! You’re the best loot table ever.",
    "Cheers! You always bring critical hits of joy.",
    "Thanks! You’re the patch note that fixes everything.",
    "Thank you! You’re the best drop in the game.",
    "Cheers! You’re the perfect combo move.",
    "Thanks! You always set a new record.",
    "Thank you! You’re the upgrade I needed.",
    "Cheers! You’re the best spawn point.",
    "Thanks! You always bring legendary support.",
    "Thank you! You’re the achievement unlocked.",
    "Cheers! You’re the best boss fight.",
    "Thanks! You always deliver high scores.",
    "Thank you! You’re the top-tier reward.",
    "Cheers! You’re the best daily quest.",
    "Thanks! You always bring extra coins.",
    "Thank you! You’re the best game mode.",
    "Cheers! You’re the top of the leaderboard.",
    "Thanks! You’re the rarest player.",
    "Thank you! You’re the best guild mate.",
    "Cheers! You always bring event bonuses.",
    "Thanks! You’re the ultimate combo.",
    "Thank you! You’re the best patch.",
    "Cheers! You always bring double XP.",
    "Thanks! You’re the best sidekick.",
    "Thank you! You’re the high-level support.",
    "Cheers! You’re the best event drop.",
    "Thanks! You’re the final boss of kindness.",
    "Thank you! You always bring epic wins.",
    "Cheers! You’re the top loot box.",
    "Thanks! You’re the best upgrade.",
    "Thank you! You’re the ultimate power-up.",
    "Cheers! You’re the best team leader.",
    "Thanks! You’re the best healer.",
    "Thank you! You’re the MVP of gratitude.",
}

local promoMessages = {
}

-- Index trackers
local thankIndex = 1
local promoIndex = 1

-- Auto Thank Logic (berurutan)
local leaderstats = localPlayer:WaitForChild("leaderstats")
local raisedStat = leaderstats:WaitForChild("Raised")
local lastRaised = raisedStat.Value

raisedStat.Changed:Connect(function()
	if getgenv().autoThank then
		local newRaised = raisedStat.Value
		if newRaised > lastRaised then
			if chat then
				local msg = thankMessages[math.random(1, #thankMessages)]
				chat:SendAsync(msg)
			end
			lastRaised = newRaised
		end
	end
end)

-- Auto Promo Logic (berurutan tiap 27 detik)
local function shuffle(array)
	local shuffled = {}
	local indices = {}
	for i = 1, #array do table.insert(indices, i) end
	for i = #indices, 2, -1 do
		local j = math.random(i)
		indices[i], indices[j] = indices[j], indices[i]
	end
	for _, i in ipairs(indices) do
		table.insert(shuffled, array[i])
	end
	return shuffled
end

local shuffledPromo = shuffle(promoMessages)
local shuffledIndex = 1

task.spawn(function()
	while true do
		if getgenv().promoSpam then
			if chat then
				local msg = shuffledPromo[shuffledIndex]
				chat:SendAsync(msg)
				shuffledIndex += 1
				if shuffledIndex > #shuffledPromo then
					shuffledPromo = shuffle(promoMessages)
					shuffledIndex = 1
				end
			end
		end
		task.wait(27)
	end
end)

-- Button Logic
ThankButton.MouseButton1Click:Connect(function()
	getgenv().autoThank = not getgenv().autoThank
	updateGUI()
end)

PromoButton.MouseButton1Click:Connect(function()
	getgenv().promoSpam = not getgenv().promoSpam
	updateGUI()
end)