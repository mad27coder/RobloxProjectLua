-- Pengaturan awal
getgenv().autoThank = false
getgenv().promoSpam = false

-- Services
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local VirtualUser = game:GetService("VirtualUser")
local localPlayer = Players.LocalPlayer
local chat = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral")

-- Anti-AFK
Players.LocalPlayer.Idled:Connect(function()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton1(Vector2.new(0, 0))
end)

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", localPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "AutoGUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 220, 0, 160)
Frame.Position = UDim2.new(0.5, -110, 0.5, -80)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Active = true
Frame.Draggable = true

local toggleButton = Instance.new("TextButton", ScreenGui)
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(1, -45, 0.5, -20)
toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Text = "≡"
toggleButton.ZIndex = 10
toggleButton.Active = true
toggleButton.Draggable = true

local guiVisible = true
toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- GUI Elements
local ThankButton = Instance.new("TextButton", Frame)
ThankButton.Size = UDim2.new(0, 200, 0, 40)
ThankButton.Position = UDim2.new(0, 10, 0, 10)
ThankButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ThankButton.TextColor3 = Color3.new(1, 1, 1)

local PromoButton = Instance.new("TextButton", Frame)
PromoButton.Size = UDim2.new(0, 200, 0, 40)
PromoButton.Position = UDim2.new(0, 10, 0, 60)
PromoButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PromoButton.TextColor3 = Color3.new(1, 1, 1)

local StatusLabel = Instance.new("TextLabel", Frame)
StatusLabel.Size = UDim2.new(0, 200, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 105)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextScaled = true

local SignatureLabel = Instance.new("TextLabel", Frame)
SignatureLabel.Size = UDim2.new(0, 200, 0, 20)
SignatureLabel.Position = UDim2.new(0, 10, 1, -25)
SignatureLabel.BackgroundTransparency = 1
SignatureLabel.TextColor3 = Color3.new(1, 1, 1)
SignatureLabel.Text = "LYNX x DHINZ"
SignatureLabel.Font = Enum.Font.SourceSansBold
SignatureLabel.TextScaled = true

local function updateGUI()
	ThankButton.Text = "Toggle Auto Thank (" .. (getgenv().autoThank and "ON" or "OFF") .. ")"
	PromoButton.Text = "Toggle Auto Promo (" .. (getgenv().promoSpam and "ON" or "OFF") .. ")"
	StatusLabel.Text = "Status: Thank " .. (getgenv().autoThank and "ON" or "OFF") .. " / Promo " .. (getgenv().promoSpam and "ON" or "OFF")
end

updateGUI()

-- Messages
local thankMessages = {
    "You just dropped some sunshine on this booth 😊",
    "That donation just made this place 200% cooler 😎",
    "You made my day better, no cap 😄",
    "This booth smiles every time you pass by 😉",
    "Donations like that fix my whole mood 😁",
    "Your Robux got style and kindness mixed 😊",
    "If good vibes were currency, you’d be rich 😄",
    "This booth got blessed again, thanks to you 😌",
    "Even the background music got happier 😁",
    "You got main character energy right there 😉",
    "I don’t need coffee, I just need donors like you 😎",
    "That was smoother than a fresh fade 😄",
    "Booth’s glowing now—pretty sure it’s your fault 😌",
    "That donation felt like a hug from the universe 😊",
    "You're the type of person NPCs admire 😁",
    "This booth owes its glow to you 😎",
    "Even my avatar's posture improved 😄",
    "You’re the kind of legend stories whisper about 😉",
    "This booth leveled up emotionally 😌",
    "I was surviving. Now I’m thriving 😁",
    "Booth update: now sponsored by your kindness 😄",
    "Smile installed successfully, thanks to you 😊",
    "You just became someone’s favorite stranger 😉",
    "Robux came with a side of kindness 😁",
    "You just made generosity look cool 😎",
    "Lowkey I want to print your name on this booth 😄",
    "That donation dropped like a mic 🎤😉",
    "You make donating look like an art form 😌",
    "This booth’s new aura? Donor-powered 😊",
    "You're now part of this booth’s origin story 😁",
    "I heard heroes wear capes… or drop Robux 😎",
    "Thanks for making this booth feel like home 😊",
    "Every donation tells a story. Yours is a bestseller 😄",
    "That Robux felt like a high-five to the soul 😊",
    "You donated, and now this booth sings 😁",
    "The vibes? Immaculate. The donor? You 😎",
    "You didn’t just donate, you upgraded this area 😉",
    "Even the grass looks greener after that 😌",
    "That was the kind of kindness that echoes 😄",
    "Booth just hit peak coolness, confirmed 😊",
    "Thanks for not just walking past 😁",
    "Your Robux arrived with good energy 😌",
    "That moment? Straight outta a feel-good movie 😄",
    "Your kindness gave this booth new air 😊",
    "Some donors give. You uplift 😎",
    "The booth just smiled… pretty sure I did too 😄",
    "That donation gave main-character glow-up vibes 😉",
    "I think this booth just leveled up in gratitude 😁",
    "You're a one-person vibe upgrade system 😌",
    "Nothing beats Robux with a side of kindness 😊",
    "You didn’t have to… but you did. Respect 😎",
    "That donation was smoother than my avatar’s dance 😄",
    "This booth just became your fan page 😉",
    "Kindness like yours should be trending 😊",
    "You made this digital space a better place 😁",
    "That donation had cozy energy 😌",
    "You're like a good plot twist in a chill game 😄",
    "Booth before: basic. Booth after: glowing 😎",
    "That Robux drop felt like fresh air 😊",
    "The booth appreciates you. So do I 😉",
    "You just raised the vibe bar around here 😁",
    "Robux landed. Smile activated 😄",
    "Even my keyboard typed 'thanks' on its own 😊",
    "That donation felt like a high five in pixels 😎",
    "The booth whispered, ‘thank you, legend’ 😌",
    "Donation alert: Good vibes confirmed 😁",
    "This booth’s favorite visitor? You, clearly 😉",
    "You're not just generous, you're stylish about it 😊",
    "That Robux came with main character energy 😄",
    "Every booth wants a donor like you 😎",
    "Thank you for being the chill in this server 😊",
    "That felt like a handshake from the universe 😉",
    "Your kindness just paid rent for this booth 😁",
    "Donation detected: booth upgraded 😌",
    "You didn’t just donate, you dropped happiness 😊",
    "Kind gestures like yours make Roblox fun 😄",
    "Your support is cooler than a limited UGC 😎",
    "This booth’s mood? Boosted by you 😊",
    "Thanks for making this square meter of pixels feel warm 😉",
    "That donation hit different—in a good way 😁",
    "This booth’s smile? 100% real 😄",
    "Support like that makes digital dreams feel real 😊",
    "You're not just donating—you’re making moments 😌",
    "My avatar's dance? Dedicated to you 😎",
    "Thanks for the kind click 😊",
    "Robux is temporary. Vibes like yours are forever 😉",
    "You just gave this booth purpose 😁",
    "Kindness came through with your name on it 😄",
    "You’re the reason this booth got its glow back 😌",
    "Your Robux did more than help—it inspired 😊",
    "You donated, the booth exhaled peace 😎",
    "This booth now has bragging rights 😉",
    "Even the pixels are clapping for you 😄",
    "You just sponsored 100% of this smile 😊",
    "Your donation was the plot twist I needed 😁",
    "Thanks for making this booth part of your story 😌",
    "You bring the ‘cool’ to digital charity 😎",
    "This booth was average. You made it art 😊",
    "Donors like you = instant booth glow-up 😄",
    "You just turned this booth into a moment 😉",
    "Donation came in with good intentions and great style 😁",
    "No lie, you made my day better 😌",
    "Your name’s now a legend on this booth 😊",
    "This booth was chilling. Now it’s vibing 😎",
    "Donation landed. Mood elevated 😄",
    "You make giving look way too good 😉",
    "Thanks for being the good in this game 😊",
    "That Robux traveled far just to make someone smile 😁",
    "You dropped Robux, and picked up respect 😌",
    "Booth just caught feelings—thanks to you 😎",
    "You’re not a player. You’re the plot twist 😊",
    "This booth’s lights just got brighter 😄",
    "Donated in silence, changed the vibe loudly 😉",
}

local promoMessages = {
	"Support the cause! Every bit helps. 💖",
	"Join the movement! Your donation makes a difference.",
	"Thanks for being awesome! Keep the support coming!",
}

-- Promo Delay System
local promoDelayUntil = 0
local promoPauseOnDonation = 36

local function getRandomPromoInterval()
	return math.random(15, 20)
end

-- Shuffle function
local function shuffle(array)
	local shuffled = {}
	local indices = {}
	for i = 1, #array do table.insert(indices, i) end
	for i = #indices, 2, -1 do
		local j = math.random(i)
		indices[i], indices[j] = indices[j], indices[i]
	end
	for _, i in ipairs(indices) do
		table.insert(shuffled, array[i])
	end
	return shuffled
end

local shuffledPromo = shuffle(promoMessages)
local shuffledIndex = 1

-- Auto Promo Logic
task.spawn(function()
	while true do
		if getgenv().promoSpam then
			local currentTime = tick()
			if currentTime >= promoDelayUntil then
				if chat then
					local msg = shuffledPromo[shuffledIndex]
					chat:SendAsync(msg)
					shuffledIndex += 1
					if shuffledIndex > #shuffledPromo then
						shuffledPromo = shuffle(promoMessages)
						shuffledIndex = 1
					end
				end
				promoDelayUntil = currentTime + getRandomPromoInterval()
			end
		end
		task.wait(1)
	end
end)

-- Auto Thank Logic + Promo Pause Trigger
local leaderstats = localPlayer:WaitForChild("leaderstats")
local raisedStat = leaderstats:WaitForChild("Raised")
local lastRaised = raisedStat.Value

raisedStat.Changed:Connect(function()
	if getgenv().autoThank then
		local newRaised = raisedStat.Value
		if newRaised > lastRaised then
			if chat then
				local msg = thankMessages[math.random(1, #thankMessages)]
				chat:SendAsync(msg)
			end
			lastRaised = newRaised
		end
	end
	-- Pause promo for 36 seconds
	promoDelayUntil = tick() + promoPauseOnDonation
end)

-- Button Logic
ThankButton.MouseButton1Click:Connect(function()
	getgenv().autoThank = not getgenv().autoThank
	updateGUI()
end)

PromoButton.MouseButton1Click:Connect(function()
	getgenv().promoSpam = not getgenv().promoSpam
	updateGUI()
end)