-- Pengaturan awal
getgenv().autoThank = false
getgenv().promoSpam = false

-- Services
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local VirtualUser = game:GetService("VirtualUser")
local localPlayer = Players.LocalPlayer
local chat = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral")

-- Anti-AFK
Players.LocalPlayer.Idled:Connect(function()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton1(Vector2.new(0, 0))
end)

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", localPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "AutoGUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 220, 0, 160)
Frame.Position = UDim2.new(0.5, -110, 0.5, -80)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Active = true
Frame.Draggable = true

local toggleButton = Instance.new("TextButton", ScreenGui)
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(1, -45, 0.5, -20)
toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Text = "â‰¡"
toggleButton.ZIndex = 10
toggleButton.Active = true
toggleButton.Draggable = true

local guiVisible = true
toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- GUI Elements
local ThankButton = Instance.new("TextButton", Frame)
ThankButton.Size = UDim2.new(0, 200, 0, 40)
ThankButton.Position = UDim2.new(0, 10, 0, 10)
ThankButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ThankButton.TextColor3 = Color3.new(1, 1, 1)

local PromoButton = Instance.new("TextButton", Frame)
PromoButton.Size = UDim2.new(0, 200, 0, 40)
PromoButton.Position = UDim2.new(0, 10, 0, 60)
PromoButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PromoButton.TextColor3 = Color3.new(1, 1, 1)

local StatusLabel = Instance.new("TextLabel", Frame)
StatusLabel.Size = UDim2.new(0, 200, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 105)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextScaled = true

local SignatureLabel = Instance.new("TextLabel", Frame)
SignatureLabel.Size = UDim2.new(0, 200, 0, 20)
SignatureLabel.Position = UDim2.new(0, 10, 1, -25)
SignatureLabel.BackgroundTransparency = 1
SignatureLabel.TextColor3 = Color3.new(1, 1, 1)
SignatureLabel.Text = "BangDhinz146"
SignatureLabel.Font = Enum.Font.SourceSansBold
SignatureLabel.TextScaled = true

local function updateGUI()
	ThankButton.Text = "Toggle Auto Thank (" .. (getgenv().autoThank and "ON" or "OFF") .. ")"
	PromoButton.Text = "Toggle Auto Promo (" .. (getgenv().promoSpam and "ON" or "OFF") .. ")"
	StatusLabel.Text = "Status: Thank " .. (getgenv().autoThank and "ON" or "OFF") .. " / Promo " .. (getgenv().promoSpam and "ON" or "OFF")
end

updateGUI()

-- Messages
local thankMessages = {
    "That Robux just upgraded my imaginary mansion ðŸ˜Ž",
    "You just funded my next trip to the AFK zone!",
    "Thanks! Now I can finally afford... more dreams.",
    "You just made my day 200% more pixelated ðŸ’¸",
    "You just gave me enough Robux to flex on ghosts.",
    "Donation received! My booth just leveled up emotionally.",
    "You donated? Now I owe you one slice of invisible pizza.",
    "That donation hit harder than lag in a boss fight ðŸ˜‚",
    "You just upgraded my boothâ€™s ego. It's glowing now!",
    "Iâ€™ll name my next alt account after you. You deserve it.",
    "Your Robux cured my fake lag disease ðŸ™Œ",
    "That Robux went straight into my happiness folder.",
    "Thanks! My booth just started believing in itself again.",
    "You donated? I'm crying in rich now ðŸ˜­ðŸ’¸",
    "Youâ€™re now officially cooler than most NPCs.",
    "That donation made my booth stop glitching emotionally.",
    "That Robux smelled like victory. Thanks!",
    "You just unlocked ultra-mega-giga appreciation mode.",
    "Thanks! My invisible pet turtle now has shoes ðŸ¢ðŸ‘Ÿ",
    "Iâ€™m adding your name to my imaginary credits list!",
    "My booth is now 10% sassier thanks to you ðŸ’…",
    "You made the donate button feel loved for once.",
    "You donated?? Legends say the booth whispered 'finally!'",
    "You just made me smile like a Roblox noob on day 1.",
    "Robux received! Mood: dancing awkwardly with joy ðŸ’ƒ",
    "You donated? My booth is throwing a silent party.",
    "Thanks! I can finally afford that 1 Robux dream.",
    "You just bought my booth a confidence boost.",
    "That donation? Chefâ€™s kiss. Virtual style ðŸ‘¨â€ðŸ³ðŸ’‹",
    "You donated? My booth has ascended spiritually.",
    "That Robux just cured my boredom allergy.",
    "Thanks! That Robux went straight into my 'Booth Glow-Up' fund.",
    "With that donation, I feel 3% less noob!",
    "I felt that Robux emotionally. Thank you.",
    "That donation just made my pixels feel richer.",
    "You just broke the silence of a thousand beggars.",
    "Your generosity just upgraded my virtual personality.",
    "Now I walk 20% cooler, all thanks to you.",
    "Your donation just made my booth stand taller.",
    "I can't hear haters over your donation sound ðŸ’°",
    "Your Robux just gave me virtual goosebumps.",
    "You just turned my day from oof to oof-mazing!",
    "Thanks! That donation went straight into my vibes fund.",
    "With that Robux, Iâ€™ll build a mansion of gratitude.",
    "Donation detected. Mood: 100% wholesome.",
    "You donated? Now my booth has main character energy.",
    "That Robux gave my avatar hope and slightly better posture.",
    "You just blessed my boothâ€™s imaginary plants ðŸŒ±",
    "Iâ€™m officially richer in spirit. Thanks to you.",
    "Your donation just fixed my lagging confidence.",
    "That Robux will be remembered in all my loading screens.",
    "My booth smiled. I swear it did.",
    "You just added sparkle to my pixels âœ¨",
    "Your Robux just boosted my WiFi (emotionally).",
    "Now I can flex on people with kindness ðŸ˜Œ",
    "Thanks! My booth will now strut, not walk.",
    "That donation just gave my soul a patch update.",
    "You donated? Iâ€™ll tell my grandkids (in Roblox years).",
    "Your Robux is now my booth's favorite currency.",
    "Iâ€™m rich in feels. All because of you.",
    "Booth happiness upgraded: +999 thanks to you!",
    "That donation just made me emotionally un-lag.",
    "You donated? My booth is humming with joy now.",
    "Thanks! You made my AFK break 10x cooler.",
    "With that Robux, Iâ€™ll buy a new sense of purpose ðŸ˜†",
    "Your generosity just made me blink twice in amazement.",
    "My booth says thanks by glowing brighter (in imagination).",
    "That Robux turned my booth into a better person.",
    "Thanks! Iâ€™ve officially unlocked humble mode.",
    "Youâ€™re the reason my booth is smiling today.",
    "Donation received: Mood upgraded to grateful noob.",
    "Thanks! I just bought a chair for my AFK soul.",
    "Your Robux just wrote a thank you note in my heart.",
    "I owe you a high-five in another timeline ðŸ–ï¸",
    "Your donation just made my avatar stand straighter.",
    "Now I glow slightly in the dark. Thanks!",
    "My gratitude levels just hit ultra instinct.",
    "Thanks! I just installed new hope.exe in my booth.",
    "Your Robux just sparked joy like Marie Kondo.",
    "You donated? My boothâ€™s now doing the happy dance.",
    "Donation accepted! Plot twist: Youâ€™re awesome.",
    "You just gave me a reason to brag silently.",
    "Your donation made my brain say 'pog'.",
    "Robux entered. Smiles unlocked!",
    "My gratitude is now buffering... Complete âœ…",
    "Thanks! I just high-fived my screen for you.",
    "Your kindness is now part of booth history.",
    "That donation? Straight fire. ðŸ”¥",
    "You just made me look less poor in spirit ðŸ˜‚",
    "Thanks! My booth wonâ€™t shut up about you now.",
    "Donation alert: Youâ€™re 10/10 human.",
    "I now walk with slightly more swag. Thanks.",
    "That Robux helped pay rent for my dreams ðŸ ",
    "Donation received. Booth is now 23% cooler.",
    "That Robux? Instant serotonin. Thanks!",
    "My booth plays jazz now. You did that ðŸŽ·",
    "Thanks! You just unlocked my appreciation DLC.",
    "That donation is my new favorite memory.",
    "You donated? My boothâ€™s crying happy tears!",
    "Robux received. Ego boosted (in a good way).",
    "You just gave my booth a virtual hug ðŸ¤—",
    "Thanks! I now believe in good players again.",
    "Donation registered! You're officially cool.",
    "My boothâ€™s imaginary pet thanks you too ðŸ¾",
    "You donated? You just leveled up my joy bar.",
    "That Robux powered my boothâ€™s dance party!",
    "Thanks! That was the plot twist of the day.",
    "You just gave me Robux AND happiness. Combo!",
    "Donation received. Thank you, kind legend!",
    "You helped my booth unlock confidence.exe",
    "Iâ€™ll treasure that Robux forever... emotionally.",
    "Your donation gave me a giggle burst!",
    "That was the most wholesome 'cha-ching' ever.",
    "My gratitude now has wings. Thanks!",
    "That Robux had main character energy ðŸ’«",
    "Thanks! I now glow slightly when I walk.",
    "Your donation? Pure good vibes ðŸ”¥",
    "That Robux hit different. In a good way.",
    "You donated? Boothâ€™s playing victory music now!",
    "Thanks! Booth's imaginary cat is purring now ðŸ±",
    "Your donation unlocked 'Legendary Giver' mode.",
    "You gave Robux? I blinked in disbelief ðŸ˜³",
    "That donation made my AFK soul dance.",
    "I owe you my next win in life!",
    "Thanks! That Robux felt like a warm hug.",
    "Donation received. Iâ€™m stunned and grateful.",
    "You just gave hope to a booth with dreams.",
    "Thanks! Iâ€™m now speedrunning appreciation!",
    "Your Robux just upgraded my day completely.",
    "My booth now whispers your name in thanks.",
    "You donated? Bless your generous pixels!",
    "That Robux gave me energy to keep going ðŸ’ª",
    "Thanks! My booth just sent you good karma.",
    "Donation alert: booth is now proud of itself.",
    "Your donation just gave me invisible wings.",
    "That Robux hit harder than my morning coffee â˜•",
    "Booth says thank you in sparkles âœ¨",
    "Youâ€™re now my boothâ€™s favorite story.",
    "Thanks! My booth is writing poems about you now.",
    "You donated? The universe tilted in a good way.",
    "That Robux revived my motivation bar!",
    "Thanks! I now walk with power and grace.",
    "Your donation hit the sweet spot ðŸŽ¯",
    "Booth vibes: upgraded. Mood: legendary.",
    "Your donation just made my booth sigh in happiness.",
    "Robux received. Respect delivered.",
    "That donation put extra spring in my avatar's step.",
    "Thanks! Iâ€™ll cherish your generosity like rare loot.",
    "Youâ€™re now part of this boothâ€™s lore.",
    "Donation accepted. You win at kindness today ðŸ†",
}

local promoMessages = {
	"Support the cause! Every bit helps. ðŸ’–",
	"Join the movement! Your donation makes a difference.",
	"Thanks for being awesome! Keep the support coming!",
}

-- Promo Delay System
local promoDelayUntil = 0
local promoPauseOnDonation = 36

local function getRandomPromoInterval()
	return math.random(15, 20)
end

-- Shuffle function
local function shuffle(array)
	local shuffled = {}
	local indices = {}
	for i = 1, #array do table.insert(indices, i) end
	for i = #indices, 2, -1 do
		local j = math.random(i)
		indices[i], indices[j] = indices[j], indices[i]
	end
	for _, i in ipairs(indices) do
		table.insert(shuffled, array[i])
	end
	return shuffled
end

local shuffledPromo = shuffle(promoMessages)
local shuffledIndex = 1

-- Auto Promo Logic
task.spawn(function()
	while true do
		if getgenv().promoSpam then
			local currentTime = tick()
			if currentTime >= promoDelayUntil then
				if chat then
					local msg = shuffledPromo[shuffledIndex]
					chat:SendAsync(msg)
					shuffledIndex += 1
					if shuffledIndex > #shuffledPromo then
						shuffledPromo = shuffle(promoMessages)
						shuffledIndex = 1
					end
				end
				promoDelayUntil = currentTime + getRandomPromoInterval()
			end
		end
		task.wait(1)
	end
end)

-- Auto Thank Logic + Promo Pause Trigger
local leaderstats = localPlayer:WaitForChild("leaderstats")
local raisedStat = leaderstats:WaitForChild("Raised")
local lastRaised = raisedStat.Value

raisedStat.Changed:Connect(function()
	if getgenv().autoThank then
		local newRaised = raisedStat.Value
		if newRaised > lastRaised then
			if chat then
				local msg = thankMessages[math.random(1, #thankMessages)]
				chat:SendAsync(msg)
			end
			lastRaised = newRaised
		end
	end
	-- Pause promo for 36 seconds
	promoDelayUntil = tick() + promoPauseOnDonation
end)

-- Button Logic
ThankButton.MouseButton1Click:Connect(function()
	getgenv().autoThank = not getgenv().autoThank
	updateGUI()
end)

PromoButton.MouseButton1Click:Connect(function()
	getgenv().promoSpam = not getgenv().promoSpam
	updateGUI()
end)