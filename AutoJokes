-- Pengaturan awal
getgenv().autoThank = false
getgenv().promoSpam = false

-- Services
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local VirtualUser = game:GetService("VirtualUser")
local localPlayer = Players.LocalPlayer
local chat = TextChatService:WaitForChild("TextChannels"):WaitForChild("RBXGeneral")

-- Anti-AFK
Players.LocalPlayer.Idled:Connect(function()
	VirtualUser:CaptureController()
	VirtualUser:ClickButton1(Vector2.new(0, 0))
end)

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui", localPlayer:WaitForChild("PlayerGui"))
ScreenGui.Name = "AutoGUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 220, 0, 160)
Frame.Position = UDim2.new(0.5, -110, 0.5, -80)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Active = true
Frame.Draggable = true

local toggleButton = Instance.new("TextButton", ScreenGui)
toggleButton.Size = UDim2.new(0, 40, 0, 40)
toggleButton.Position = UDim2.new(1, -45, 0.5, -20)
toggleButton.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Text = "≡"
toggleButton.ZIndex = 10
toggleButton.Active = true
toggleButton.Draggable = true

local guiVisible = true
toggleButton.MouseButton1Click:Connect(function()
	guiVisible = not guiVisible
	Frame.Visible = guiVisible
end)

-- GUI Elements
local ThankButton = Instance.new("TextButton", Frame)
ThankButton.Size = UDim2.new(0, 200, 0, 40)
ThankButton.Position = UDim2.new(0, 10, 0, 10)
ThankButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ThankButton.TextColor3 = Color3.new(1, 1, 1)

local PromoButton = Instance.new("TextButton", Frame)
PromoButton.Size = UDim2.new(0, 200, 0, 40)
PromoButton.Position = UDim2.new(0, 10, 0, 60)
PromoButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
PromoButton.TextColor3 = Color3.new(1, 1, 1)

local StatusLabel = Instance.new("TextLabel", Frame)
StatusLabel.Size = UDim2.new(0, 200, 0, 20)
StatusLabel.Position = UDim2.new(0, 10, 0, 105)
StatusLabel.BackgroundTransparency = 1
StatusLabel.TextColor3 = Color3.new(1, 1, 1)
StatusLabel.TextScaled = true

local SignatureLabel = Instance.new("TextLabel", Frame)
SignatureLabel.Size = UDim2.new(0, 200, 0, 20)
SignatureLabel.Position = UDim2.new(0, 10, 1, -25)
SignatureLabel.BackgroundTransparency = 1
SignatureLabel.TextColor3 = Color3.new(1, 1, 1)
SignatureLabel.Text = "DHINZ HUB"
SignatureLabel.Font = Enum.Font.SourceSansBold
SignatureLabel.TextScaled = true

local function updateGUI()
	ThankButton.Text = "Toggle Auto Jokes (" .. (getgenv().autoThank and "ON" or "OFF") .. ")"
	PromoButton.Text = "Toggle Auto Promo (" .. (getgenv().promoSpam and "ON" or "OFF") .. ")"
	StatusLabel.Text = "Status: Jokes " .. (getgenv().autoThank and "ON" or "OFF") .. " / Promo " .. (getgenv().promoSpam and "ON" or "OFF")
end

updateGUI()

-- Messages
local thankMessages = {
    "Why don't skeletons fight each other? They don't have the guts.",
    "What do you call fake spaghetti? An impasta!",
    "Why did the scarecrow win an award? He was outstanding in his field.",
    "Why don't eggs tell jokes? They'd crack each other up.",
    "How do you organize a space party? You planet.",
    "Why can't your nose be 12 inches long? Because then it would be a foot!",
    "What did the ocean say to the beach? Nothing, it just waved.",
    "Why did the math book look sad? It had too many problems.",
    "Why was the broom late? It swept in!",
    "What do you call a pile of cats? A meow-tain.",
    "What’s orange and sounds like a parrot? A carrot.",
    "Why did the banana go to the doctor? Because it wasn't peeling well.",
    "How does a penguin build its house? Igloos it together.",
    "Why did the computer catch a cold? It left its Windows open.",
    "What did one wall say to the other? I'll meet you at the corner.",
    "Why did the coffee file a police report? It got mugged.",
    "Why did the golfer bring two pairs of pants? In case he got a hole in one.",
    "What kind of music do mummies listen to? Wrap music.",
    "Why are elevator jokes so good? They work on many levels.",
    "What’s a vampire’s favorite fruit? A blood orange.",
    "How do cows stay up to date? They read the moos-paper.",
    "What do you call cheese that isn't yours? Nacho cheese!",
    "What did the grape do when he got stepped on? Nothing, he just let out a little wine.",
    "Why don’t oysters donate to charity? Because they’re shellfish.",
    "How does the moon cut his hair? Eclipse it.",
    "Why did the cookie go to the hospital? Because it felt crummy.",
    "How do you make holy water? You boil the hell out of it.",
    "Why did the stadium get hot after the game? All the fans left.",
    "Why did the tomato turn red? Because it saw the salad dressing!",
    "How do you catch a squirrel? Climb a tree and act like a nut!",
    "Why don’t scientists trust atoms? Because they make up everything!",
    "What do you call a bear with no teeth? A gummy bear.",
    "Why don’t seagulls fly over the bay? Because then they’d be bagels.",
    "What do you get when you cross a snowman and a vampire? Frostbite.",
    "How do you find Will Smith in the snow? You look for fresh prints.",
    "Why was the math teacher late? She took the rhombus instead of the bus.",
    "What do you call a lazy kangaroo? A pouch potato.",
    "Why don’t some couples go to the gym? Because some relationships don’t work out.",
    "What’s a skeleton’s favorite instrument? A trom-bone.",
    "What kind of shoes do ninjas wear? Sneakers!",
    "Why was Cinderella so bad at soccer? Because she kept running away from the ball.",
    "What do you call a sleeping bull? A bulldozer.",
    "Why did the bike fall over? Because it was two-tired.",
    "What do elves learn in school? The elf-abet.",
    "Why was the calendar so popular? It had a lot of dates.",
    "How do you make a tissue dance? Put a little boogie in it.",
    "Why did the man put his money in the freezer? He wanted cold hard cash.",
    "Why did the chicken join a band? Because it had the drumsticks.",
    "What’s brown and sticky? A stick.",
    "Why don’t you ever see elephants hiding in trees? Because they’re so good at it.", 
    "Why did the phone go to school? To improve its communication skills.",
    "What do you call a dog that can do magic? A Labracadabrador.",
    "Why don’t mountains ever get tired? They’re always on peak performance.",
    "What did the pencil say to the paper? I dot my i's on you.",
    "Why did the fish blush? Because it saw the ocean’s bottom.",
    "What’s a computer’s favorite snack? Microchips.",
    "Why did the shoe get bad grades? It didn’t have sole.",
    "What do you get when you cross a fridge and a radio? Cool music.",
    "Why did the painter go to jail? He was framed.",
    "Why was the egg afraid? It was about to crack under pressure.",
    "Why did the salad go to the party? It wanted to turnip the beet.",
    "What did the hat say to the scarf? You hang around, I’ll go on ahead.",
    "What do cows do for fun? Go to the moo-vies.",
    "Why did the clock break up with the calendar? It felt like it was being used.",
    "Why did the duck bring sunscreen? It didn’t want to quack.",
    "What kind of lighting does a cat prefer? Fur-rescent.",
    "Why did the yarn get in trouble? It was stringing everyone along.",
    "Why did the cookie cry? Because his mom was a wafer too long.",
    "Why did the pizza apply for a job? It needed the dough.",
    "How do you make a lemon drop? Just let it fall.",
    "What did the hamburger name its daughter? Patty.",
    "Why can’t calendars keep secrets? They’re always telling the date.",
    "Why don’t plants gossip? They don’t like to spread roots.",
    "Why did the drum take a nap? It was beat.",
    "Why don’t snakes ever do well in school? Because they always hiss the answers.",
    "What did one ear say to the other? Between you and me, something smells.",
    "Why did the blanket get promoted? It covered everything.",
    "What do you call a fish with no eyes? Fsh.",
    "Why do spiders make great web designers? They're natural at networking.",
    "Why was the orange always late? It couldn’t peel itself away.",
    "Why did the ghost get a job? To support his boo.",
    "What do you call a bee having a bad hair day? A frizzbee.",
    "Why did the chair fail school? It just couldn’t stand tests.",
    "How does a rabbit throw a party? It hops to it!",
    "Why did the nail polish fail the test? It cracked under pressure.",
    "What did the magnet say to the fridge? I find you very attractive.",
    "What does a cloud wear to school? Thunderwear.",
    "Why did the milk go to art school? It wanted to be cultured.",
    "Why did the keyboard break up with the mouse? It wasn’t clicking anymore.",
    "Why don’t ghosts need suitcases? They travel light.",
    "Why was the belt bad at comedy? Its timing was off.",
    "What did the fork say to the spaghetti? You’re my pasta partner.",
    "What do you call a lazy hunter? A sloth shooter.",
    "Why did the scarf go viral? It was wrapped up in drama.",
    "Why did the candle get in trouble? It burned the midnight oil.",
    "What did the toaster say to the slice of bread? I want you inside me.",
    "Why are penguins bad at telling secrets? They always blubber.",
    "What do you call a piano falling down a mine shaft? A flat minor.",
    "Why did the hen become a motivational speaker? She knew how to egg people on.",
    "Why was the broom so popular? It always swept everyone off their feet.",
    "What do you call an angry carrot? A steamed veggie.",
    "Why don’t mushrooms argue? They don’t want to start spores.",
    "Why did the frog sit on a pile of leaves? Because he wanted to be a toad-stool.",
    "What do you call a sad cup of coffee? A depresso.",
    "Why are seagulls so smart? They always have a plan gull.",
    "Why did the shoelace fail gym? It kept tripping up.",
    "What’s a vampire’s least favorite meal? Stake.",
    "Why don’t clocks ever get bored? They always have second hands.",
    "Why did the bucket get fired? It couldn’t handle the pressure.",
    "What kind of car does a ghost drive? A Boo-ick.",
    "Why did the frog take the bus? His car got toad.",
    "What did the banana say to the suitcase? You’re packing a-peel.",
    "Why did the ghost break up? It just couldn’t feel the spark.",
    "Why did the flower fail the test? It didn’t study bud.",
    "What did the book say to the reader? I’m bound to entertain you.",
    "Why do pancakes never win races? They always flip out.",
    "What’s a cat’s favorite color? Purrr-ple.",
    "Why did the jelly cross the road? To get to the jam session.",
    "What did the tea bag say to the kettle? You heat me up.",
    "Why did the photo go to jail? It was framed!",
    "What did the traffic light say to the car? Don’t look, I’m changing!",
    "What do you call a factory that sells good products? A satisfactory.",
    "What’s the hardest part about skydiving? The ground.",
    "Why did the orange stop rolling? It ran out of juice.",
    "What did the volcano say to its date? I lava you.",
    "What do birds do before flying school? They wing it.",
    "Why don’t melons get married? Because they cantaloupe.",
    "Why did the umbrella get promoted? It was overqualified.",
    "What kind of jokes do construction workers tell? Drywall humor.",
    "Why did the paintbrush fail school? It couldn’t draw conclusions.",
    "Why did the plant sit in the corner? It needed some space to grow.",
    "Why did the spider apply for a job? It needed to support its web design career.",
    "What did the peanut say to the chocolate? We’re nuts about each other.",
    "Why did the sweater apply for a raise? It was tired of being picked on.",
    "Why do eggs hate jokes? Because they crack up too easily.",
    "What do planets use to keep their hair in place? Orbit spray.",
    "Why did the sock get detention? It had too much sole.",
    "Why did the leaf go to therapy? It was falling apart.",
    "Why was the laundry sad? Because it had too much emotional baggage.",
    "Why was the donut acting weird? It was going through a hole phase.",
    "What did the sandwich say to the doorman? Lettuce in.",
    "Why was the ghost a bad liar? Everyone could see right through him.",
    "What do you call a group of musical whales? An orca-stra.",
    "What do skeletons order at restaurants? Spare ribs.",
    "Why did the ice cube feel bad? It melted under pressure.",
    "Why did the water bottle blush? Because it saw the fridge light turn on.",
    "What do you call a nervous jello? A wiggler in distress.",
    "Why was the cereal box acting strange? It was feeling a little corny.",
    "Why do bees hum? Because they forgot the lyrics.",
    "What did one plate say to another? Tonight, dinner’s on me.",
    "Why did the avocado get dumped? It was too extra.",
    "What did the ketchup say to the mustard? Catch up!",
    "What did the butter say to the bread? You’re on a roll!",
    "Why did the lemon fail school? It was too sour to focus.",
    "What kind of dog loves to take bubble baths? A shampoodle.",
    "Why did the alarm clock get fired? It kept snoozing on the job.",
    "Why did the light bulb fail drama class? It couldn’t find its spotlight.",
    "Why did the calculator break up? It couldn’t count on its partner anymore.", 
}

local promoMessages = {
    "Donate 1 Robux and I’ll drop a joke hotter than your WiFi 😂",
    "My jokes are unstable. Like me 😭 just donate.",
    "Want a weird laugh? Feed me Robux 😄",
    "Warning: Jokes may cause secondhand embarrassment 😳",
    "No Robux, no fun 😐 rules are rules.",
    "Fuel my comedy engine with Robux 😎",
    "I sell certified bad jokes 🤓 cheap too!",
    "They laughed at me... until I charged Robux 😉",
    "Come on... just 1 Robux for mental chaos 😈",
    "Help me keep being unfunny in public 😬",
    "Your Robux turns into suspicious humor 😅",
    "Cheaper than therapy, riskier than memes 😇",
    "Laugh first, regret later 😭 pay now!",
    "Donate or I start telling riddles 😴",
    "Your Robux keeps my cringe alive 🤡",
    "Let’s make Roblox fun again 😂 1 joke at a time",
    "Tell your friends you paid for this 😔 I won’t judge.",
    "This booth is run by sarcasm and Robux 😐",
    "Buy now, cry later 🥲",
    "My jokes deserve jail, but you can bail them out with Robux 😬",
    "Even my emotes are confused 😳 donate to fix it",
    "Donate or I’ll make pun jokes 😢",
    "Help me spread terrible humor 😈",
    "I’m not lazy, just joke-powered 😴",
    "Robux in = punchline out 😄 simple math",
    "Jokes so weird, they loop back to funny 😂",
    "I accept Robux, hugs, and validation 😢",
    "Support this struggling comedian 🤡 just 1 Robux",
    "You scroll past me, I cry every time 😭",
    "Every Robux helps me tell a worse joke 😆",
    "Bad jokes? I got plenty 😅 trade you for Robux",
    "Donate and witness a live joke meltdown 😳",
    "Come for the cringe, stay for the awkward laugh 🤓",
    "They call me the joke machine... that broke 😭",
    "If you laugh, it’s your fault 😎",
    "My sense of humor needs funding 😇",
    "Only YOU can prevent joke extinction 😢",
    "My jokes slap harder than reality 😬 donate now",
    "Drop Robux, pick up disappointment 😂",
    "Your 1 Robux = my entire personality 😳",
    "Jokes available! Risk level: high 😈",
    "I write jokes. They’re not good, but they’re mine 😔",
    "Be the reason I smile weirdly today 😄",
    "Cringe with me... it's only 1 Robux 😅",
    "Donate or this emoji will stay sad 😢",
    "You never know what you’ll get 😏 maybe tears 😭",
    "I roast myself better than any oven 🔥 just 1 Robux",
    "Give Robux, get weird. Deal? 😎",
    "My brain runs on Robux and chaos 🤡",
    "Laughter not guaranteed, but confusion is 😂",
    "Let’s make regret affordable again 🥲",
    "You laugh, I eat air. You donate, I joke 😆",
    "Low price, high risk humor 😬 buy now!",
    "This booth might be cursed 😳 1 Robux to lift it",
    "Jokes so bad they’re good 😈 you’ll see",
    "Pay now, laugh later (hopefully) 😅",
    "Still reading? Might as well donate 😇",
    "Donate and I’ll stop staring at you like this 😐",
    "Just 1 Robux... what could go wrong? 😂",
    "Trade Robux for comedy, legally questionable 😏",
    "You scroll past? That’s a crime 😭",
    "Sad booth until someone drops Robux 😢",
    "My punchlines are powered by pain 🤡",
    "Don’t test me, I have dad jokes loaded 😬",
    "Cheapest regret in Roblox 😅 only here",
    "One Robux = One smile (maybe fake) 😄",
    "I’ll tell a joke even your pet would hate 😆",
    "Support weird talent today 😎",
    "Certified joke dealer since 2000-never 🤓",
    "Let me brighten your day with confusion 😳",
    "Buy a joke. Confuse your enemies 😈",
    "You giggle, I dance. You donate, I joke 😄",
    "No pressure... but I’m crying inside 😭",
    "Jokes so random they might make sense 😅",
    "Your Robux funds this madness 😇",
    "Don’t let this emoji down 😢",
    "Donate if you're brave enough to cringe 😏",
    "Help me keep the joke economy alive 😂",
    "Laughing is optional. Donating isn’t 😎",
    "Every joke sold keeps my tears flowing 😭",
    "Unlock chaotic jokes for the price of 1 😈",
    "Donate fast, I’m running out of braincells 😳",
    "I trade Robux for bad ideas 🤡",
    "This booth runs on hope and Robux 🥲",
    "Skip this, and I’ll tell jokes to your shadow 😐",
    "I’m one Robux away from embarrassing myself 😬",
    "Do it for the memes 😂",
    "One small Robux, one giant joke fail 😅",
    "Your donation delays another awful pun 😆",
    "I’m not funny. That’s what makes it funny 😎",
    "Come for the joke, stay for the confusion 😳",
    "Your Robux keeps me semi-functional 😇",
    "I’m trying my best out here 😭 help a jester out",
    "Booth full of chaos and giggles 😈",
    "Donate and I’ll make the server cringe 😅",
    "This is where jokes go to struggle 🤡",
    "Robux in, nonsense out 😂",
    "I’ve got jokes... some even legal 😏",
    "Just trying to joke my way through life 😢",
    "Every joke is a risk I’m willing to take 😄",
    "Why scroll when you could donate? 😳",
    "Even bots laughed once. Be like them 🤖😂",
    "Caution: May contain humor accidents 😬",
    "My comedy license got revoked. Still trying 😇",
    "Let’s be honest, your Robux needs to laugh 😎",
    "I trained 10 years to write this joke... donate to see it 😂",
    "You ever paid for confusion? 😅 Try now.",
    "Donate 1 Robux and I’ll tell a joke I probably stole 🤓",
    "I laugh, you laugh, Roblox crashes 😭",
    "Your Robux fuels my nonsense 😇 please feed me",
    "Jokes so random, even I don’t get them 😐",
    "Low budget comedy, high return on cringe 😬",
    "I’ll stop making jokes if you scroll 🥲",
    "No joke until Robux drops 😢 that's the system",
    "Got Robux? I got punchlines 😆",
    "Laugh before someone else buys the last joke 😏",
    "Some say I’m funny. Most say I need help 😭",
    "Your donation = my new excuse to be weird 😎",
    "Warning: jokes may cause facepalms 😂",
    "I tell jokes in 4K quality. Emotionally 😬",
    "Free air, paid humor 😉 just 1 Robux",
    "Pay 1 Robux and get a personality glitch 😳",
    "Caution: joke speed may vary 😅",
    "Unlock level 99 awkwardness 😇 one Robux only",
    "Your scroll hurts my feelings 😢 donate instead",
    "I’ve been standing here waiting to make someone laugh 😴",
    "Why not donate? At least we both cry less 😂",
    "One Robux = one weird sentence from me 😆",
    "Click donate before I start singing 😬",
    "Want to see bad humor done beautifully? 😎",
    "I offer you laughs. You offer me Robux. Fair 😇",
    "Help a comedian. Or at least a wannabe 🤓",
    "The jokes get worse the longer you wait 😭",
    "This booth makes no sense... like my jokes 😐",
    "Donate now and get a joke with 0 skill 😂",
    "You can scroll past... but the joke will haunt you 😅",
    "Even the emotes are laughing at me 😳",
    "Sponsor this chaos with your lovely Robux 😘",
    "Let me tell a joke that ruins your brain :D",
    "I’m built on comedy and disappointment 🥲",
    "Only YOU can stop this awkward silence 😬",
    "The jokes are free, the button isn’t 😇",
    "I will unleash the pun monster 😈 unless you donate",
    "Click donate and join my bad idea 😎",
    "I whisper jokes to my booth at night 😳",
    "You look like someone who loves weird humor 😂",
    "Help me replace sadness with punchlines 😢",
    "Warning: Jokes may stick in your head forever 😬",
    "This is a booth of dreams and dumbness 😴",
    "Donate now. The joke gets worse if you wait 😆",
    "My brain runs on Robux and chaos 😈",
    "Don't scroll! My joke might work this time 😅",
    "Clicking donate makes the cringe go away 😇",
    "Why cry when you can laugh awkwardly? 😳",
    "If you smile, you owe me Robux 😏",
    "Let’s turn your Robux into something chaotic 😄",
    "Buy a joke, unlock confusion mode 🤓",
    "Donate now, and I’ll forget how jokes work 😬",
    "My booth told me a joke. I cried 😭",
    "Nothing here makes sense, including me 😅",
    "This is a cry for help disguised as comedy 😢",
    "You scroll, I malfunction 😳",
    "Support this cringe factory 😂",
    "Every Robux gives me more confidence. Sadly. 😆",
    "Help me keep lying about being funny 😇",
    "Pay for a smile, I’ll fake it well 😭",
    "You’ve scrolled far. Let’s make it worth it 😎",
    "This booth is powered by Robux and regret 😬",
    "Jokes written by a sleep-deprived comedian 😴",
    "If I laugh alone, it's weird. Donate so I don't 😢",
    "1 Robux helps a joke find a home 🥲",
    "Laughter not included. Unless you pay 😂",
    "Yes, I accept Robux. No, I don’t accept reality 😳",
    "Bad humor lives here. Enter if you dare 😈",
    "Pay now or the booth starts singing 😬",
    "This booth is 10% joke, 90% confusion 😎",
    "Help me keep telling jokes no one asked for 😆",
    "I’m funny. Just not for free 😇",
    "Robux turns me into a part-time clown 🤡",
    "Support terrible talent today 😢",
    "Cringe is free. Jokes cost Robux 😂",
    "Buy a joke. Make your day worse 😏",
    "This is where logic dies and jokes begin 😳",
    "Your Robux = my imaginary fans 😆",
    "Be the hero in my joke story 😇",
    "Help me prove my parents wrong 😭",
    "I don’t beg. I entertain poorly 😅",
    "Donate now or I drop a pun bomb 😈",
    "Keep scrolling and you unlock pain 😐",
    "A booth full of dreams and disaster 😎",
    "Don’t be shy, donate and cry (with laughter) 😂",
    "Sponsor one bad joke today 😢",
    "If you’re reading this, you owe me a Robux 😆",
    "Come for the fun, stay for the regret 😬",
    "Laughter is contagious, but also not free 😇",
    "Even I don’t understand my own jokes 😭",
    "Just 1 Robux can feed a lonely clown 🤡",
    "Stop scrolling and drop the goods 😎",
    "I’m here all day. Save me 😂",
    "Warning: I use donations to power my nonsense 😈",
    "You donate, I act like a comedian 😳",
    "This booth has 100% recycled jokes ♻️",
    "Not a scam, just terrible comedy 😅",
    "You’re not ready for this level of weird 😏",
    "A joke a day keeps sanity away 😇",
    "No refunds, only regret 😆",
    "Donate before this joke gets worse 😬",
}

-- Promo Delay System
local promoDelayUntil = 0
local promoPauseOnDonation = 30

local function getRandomPromoInterval()
	return math.random(15, 17)
end

-- Shuffle function
local function shuffle(array)
	local shuffled = {}
	local indices = {}
	for i = 1, #array do table.insert(indices, i) end
	for i = #indices, 2, -1 do
		local j = math.random(i)
		indices[i], indices[j] = indices[j], indices[i]
	end
	for _, i in ipairs(indices) do
		table.insert(shuffled, array[i])
	end
	return shuffled
end

local shuffledPromo = shuffle(promoMessages)
local shuffledIndex = 1

-- Auto Promo Logic
task.spawn(function()
	while true do
		if getgenv().promoSpam then
			local currentTime = tick()
			if currentTime >= promoDelayUntil then
				if chat then
					local msg = shuffledPromo[shuffledIndex]
					chat:SendAsync(msg)
					shuffledIndex += 1
					if shuffledIndex > #shuffledPromo then
						shuffledPromo = shuffle(promoMessages)
						shuffledIndex = 1
					end
				end
				promoDelayUntil = currentTime + getRandomPromoInterval()
			end
		end
		task.wait(1)
	end
end)

-- Auto Thank Logic + Promo Pause Trigger
local leaderstats = localPlayer:WaitForChild("leaderstats")
local raisedStat = leaderstats:WaitForChild("Raised")
local lastRaised = raisedStat.Value

raisedStat.Changed:Connect(function()
	if getgenv().autoThank then
		local newRaised = raisedStat.Value
		if newRaised > lastRaised then
			if chat then
				local msg = thankMessages[math.random(1, #thankMessages)]
				chat:SendAsync(msg)
			end
			lastRaised = newRaised
		end
	end
	-- Pause promo for 36 seconds
	promoDelayUntil = tick() + promoPauseOnDonation
end)

-- Button Logic
ThankButton.MouseButton1Click:Connect(function()
	getgenv().autoThank = not getgenv().autoThank
	updateGUI()
end)

PromoButton.MouseButton1Click:Connect(function()
	getgenv().promoSpam = not getgenv().promoSpam
	updateGUI()
end)